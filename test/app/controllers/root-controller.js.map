{"version":3,"sources":["root-controller.es6"],"names":["Q","HttpController","httpAction","httpGet","httpParam","HttpConsumer","HttpError","httpNotImplemented","target","key","descriptor","value","notImplemented","reject","RootController","content","toPromise","name","message","json","view"],"mappings":";;;;;;;;iIAAA;;;;;;;;;;AAQA;;IAAOA,C;;AACP;;IAAQC,c,QAAAA,c;;AACR;;IAAQC,U,eAAAA,U;IAAYC,O,eAAAA,O;IAASC,S,eAAAA,S;;AAC7B;;IAAQC,Y,cAAAA,Y;;AACR;;IAAQC,S,WAAAA,S;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAER,SAASC,kBAAT,GAA8B;AAC1B,WAAO,UAAUC,MAAV,EAAkBC,GAAlB,EAAuBC,UAAvB,EAAmC;AACtCA,mBAAWC,KAAX,CAAiBC,cAAjB,GAAkC,IAAIP,YAAJ,CAAiB,YAAK;AACpD,mBAAOL,EAAEa,MAAF,CAAS,IAAIP,SAAJ,CAAc,GAAd,CAAT,CAAP;AACH,SAFiC,CAAlC;AAGA,eAAOI,UAAP;AACH,KALD;AAMH;;AAED;;;IAGMI,c,WAMDX,S,UAMAA,S,UACAD,WAAW,OAAX,C,UACAE,UAAU,EAAC,QAAQ,MAAT,EAAiB,YAAW,IAA5B,EAAkC,WAAU,OAA5C,EAAV,C,UACAA,UAAU,EAAC,QAAQ,SAAT,EAAoB,YAAW,KAA/B,EAAsC,WAAU,OAAhD,EAAV,C,UAQAD,S,UACAD,WAAW,eAAX,C,UAMAC,S,UACAD,WAAW,WAAX,C,WAMAC,S,WACAD,WAAW,cAAX,C,WAOAC,S,WACAD,WAAW,WAAX,C,WACAK,oB;;;AA7CD,8BAAc;AAAA;;AAAA;AAEb;AACD;;;;;;AAEA;gCACQ;AACJ,mBAAO,KAAKQ,OAAL,CAAa,aAAb,EAA4BC,SAA5B,EAAP;AACH;AACD;;;;;AAKA;iCACSC,I,EAAMC,O,EAAS;AACpB,mBAAO,KAAKC,IAAL,CAAU;AACbD,oCAAkBD;AADL,aAAV,EAEJD,SAFI,EAAP;AAGH;AACD;;;;;AAGA;2CACmB;AACf,mBAAO,KAAKI,IAAL,EAAP;AACH;AACD;;;;;AAGA;uCACe;AACX,mBAAO,KAAKA,IAAL,EAAP;AACH;AACD;;;;;AAGA;0CACkB;AACd,mBAAO,KAAKA,IAAL,EAAP;AACH;AACD;AACA;;;;;AAIA;uCACe;AACX,mBAAO,KAAKA,IAAL,CAAU,EAAE,QAAQ,QAAV,EAAV,CAAP;AACH;;;;EAnDwBnB,c;;AAuD7B;;kBACea,c","file":"root-controller.js","sourcesContent":["/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2017, THEMOST LP All rights reserved\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\nimport Q from 'q';\nimport {HttpController} from '../../../modules/@themost/web/mvc';\nimport {httpAction, httpGet, httpParam} from '../../../modules/@themost/web/decorators';\nimport {HttpConsumer} from \"../../../modules/@themost/web/consumers\";\nimport {HttpError} from \"../../../modules/@themost/common/errors\";\n\nfunction httpNotImplemented() {\n    return function (target, key, descriptor) {\n        descriptor.value.notImplemented = new HttpConsumer(()=> {\n            return Q.reject(new HttpError(501));\n        });\n        return descriptor;\n    }\n}\n\n/**\n * @class\n */\nclass RootController extends HttpController {\n\n    constructor() {\n        super();\n    }\n    /*jshint ignore:start*/\n    @httpGet()\n    /*jshint ignore:end*/\n    index() {\n        return this.content('Hello World').toPromise();\n    }\n    /* jshint ignore:start*/\n    @httpGet()\n    @httpAction('hello')\n    @httpParam({\"name\": \"name\", \"required\":true, \"pattern\":/^\\w+$/})\n    @httpParam({\"name\": \"message\", \"required\":false, \"pattern\":/^\\w+$/})\n    /* jshint ignore:end*/\n    getHello(name, message) {\n        return this.json({\n            message: `Hello ${name}`\n        }).toPromise();\n    }\n    /* jshint ignore:start*/\n    @httpGet()\n    @httpAction('helloMarkdown')\n    /* jshint ignore:end */\n    getHelloMarkdown() {\n        return this.view();\n    }\n    /* jshint ignore:start*/\n    @httpGet()\n    @httpAction('helloJade')\n    /* jshint ignore:end */\n    getHelloJade() {\n        return this.view();\n    }\n    /* jshint ignore:start*/\n    @httpGet()\n    @httpAction('helloAngular')\n    /* jshint ignore:end */\n    getHelloAngular() {\n        return this.view();\n    }\n    /* decorators */\n    /* jshint ignore:start*/\n    @httpGet()\n    @httpAction('helloVash')\n    @httpNotImplemented()\n    /* jshint ignore:end */\n    getHelloVash() {\n        return this.view({ \"name\": \"George\"});\n    }\n\n}\n\n//noinspection JSUnusedGlobalSymbols\nexport default RootController;\n\n\n\n\n\n\n\n"]}