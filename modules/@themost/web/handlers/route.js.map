{"version":3,"sources":["route.es6"],"names":["RouteParamsHandler","context","callback","isNil","request","route","params","keys","Object","forEach","key"],"mappings":"AAAA;;;;;;;;;AASA;;;;;;;;;;;AACA;;;;AAEA;;;;;IAKqBA,kB;;;;;;;;AACjB;;;;mCAIWC,O,EAASC,Q,EAAU;AAC1B,gBAAI,UAAEC,KAAF,CAAQF,QAAQG,OAAhB,CAAJ,EAA8B;AAC1BF;AACH,aAFD,MAGK,IAAI,UAAEC,KAAF,CAAQF,QAAQG,OAAR,CAAgBC,KAAxB,CAAJ,EAAoC;AACrCH;AACH,aAFI,MAGA;AAAA;AACD,wBAAMG,QAAMJ,QAAQG,OAAR,CAAgBC,KAA5B;AACA;AACAJ,4BAAQK,MAAR,GAAiBL,QAAQK,MAAR,IAAkB,EAAnC;AACA,wBAAI,QAAOD,MAAMC,MAAb,MAAwB,QAAxB,IAAoCD,MAAMC,MAAN,IAAc,IAAtD,EAA4D;AACxD,4BAAMC,OAAOC,OAAOD,IAAP,CAAYF,MAAMC,MAAlB,CAAb;AACAC,6BAAKE,OAAL,CAAa,UAASC,GAAT,EAAc;AAAET,oCAAQK,MAAR,CAAeI,GAAf,IAAsBL,MAAMC,MAAN,CAAaI,GAAb,CAAtB;AAAyC,yBAAtE;AACH;AACDR;AARC;AASJ;AACJ;;;;;;kBAtBgBF,kB","file":"route.js","sourcesContent":["/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2014, Kyriakos Barbounakis k.barbounakis@gmail.com\n *                     Anthi Oikonomou anthioikonomou@gmail.com\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\n'use strict';\nimport {_} from 'lodash';\n\n/**\n * @classdesc Extends context parameters by adding the default context params that are defined on the current route, if any\n * @class\n * @augments HttpHandler\n */\nexport default class RouteParamsHandler {\n    /**\n     * @param {HttpContext} context\n     * @param {Function} callback\n     */\n    mapRequest(context, callback) {\n        if (_.isNil(context.request)) {\n            callback()\n        }\n        else if (_.isNil(context.request.route)) {\n            callback();\n        }\n        else {\n            const route=context.request.route;\n            //extend params\n            context.params = context.params || {};\n            if (typeof route.params === 'object' && route.params!=null) {\n                const keys = Object.keys(route.params);\n                keys.forEach(function(key) { context.params[key] = route.params[key] });\n            }\n            callback();\n        }\n    }\n}\n"]}