{"version":3,"sources":["consumers.es6"],"names":["_","Args","HttpConsumer","callable","params","check","isFunction","context","args","apply","HttpRouteConsumer","route","notEmpty","HttpErrorConsumer","err","call"],"mappings":"AAAA;;;;;;;;;AASA;;;;;;;;;AACA;;AACA;;IAAQA,C,WAAAA,C;;AACR;;IAAQC,I,UAAAA,I;;;;;;;;IAEKC,Y,WAAAA,Y;AACT;;;;AAIA,wBAAYC,QAAZ,EAAsBC,MAAtB,EAA8B;AAAA;;AAC1BH,SAAKI,KAAL,CAAWL,EAAEM,UAAF,CAAaH,QAAb,CAAX,EAAkC,6BAAlC;AACA;;;AAGA,SAAKA,QAAL,GAAgBA,QAAhB;AACA;;;AAGA,SAAKC,MAAL,GAAcA,MAAd;AACH;;AAED;;;;;;;;wBAIIG,O,EAASC,I,EAAM;AACf,WAAKL,QAAL,CAAcM,KAAd,CAAoBF,OAApB,EAA6BC,IAA7B;AACH;;;;;;IAGQE,iB,WAAAA,iB;;;AACT;;;;;AAKA,6BAAYC,KAAZ,EAAmBR,QAAnB,EAA6BC,MAA7B,EAAqC;AAAA;;AACjCH,SAAKW,QAAL,CAAcD,KAAd,EAAoB,cAApB;;AADiC,sIAE3BR,QAF2B,EAEjBC,MAFiB;;AAGjC,UAAKO,KAAL,GAAaA,KAAb;AAHiC;AAIpC;;;EAVkCT,Y;;IAa1BW,iB,WAAAA,iB;AACT;;;;AAIA,6BAAYV,QAAZ,EAAsBC,MAAtB,EAA8B;AAAA;;AAC1BH,SAAKI,KAAL,CAAWL,EAAEM,UAAF,CAAaH,QAAb,CAAX,EAAkC,6BAAlC;AACA;;;AAGA,SAAKA,QAAL,GAAgBA,QAAhB;AACA;;;AAGA,SAAKC,MAAL,GAAcA,MAAd;AACH;;AAED;;;;;;;;wBAIIG,O,EAASO,G,EAAK;AACd,WAAKX,QAAL,CAAcY,IAAd,CAAmBR,OAAnB,EAA4BO,GAA5B;AACH","file":"consumers.js","sourcesContent":["/**\n * @license\n * MOST Web Framework 2.0 Codename Blueshift\n * Copyright (c) 2014, Kyriakos Barbounakis k.barbounakis@gmail.com\n *                     Anthi Oikonomou anthioikonomou@gmail.com\n *\n * Use of this source code is governed by an BSD-3-Clause license that can be\n * found in the LICENSE file at https://themost.io/license\n */\n'use strict';\nimport 'source-map-support/register';\nimport {_} from 'lodash';\nimport {Args} from '@themost/common/utils';\n\nexport class HttpConsumer {\n    /**\n     * @param {Function} callable\n     * @param {*=} params\n     */\n    constructor(callable, params) {\n        Args.check(_.isFunction(callable),'Consumer must be a function');\n        /**\n         * @type {Function}\n         */\n        this.callable = callable;\n        /**\n         * Gets or sets the parameters associated with this consumer\n         */\n        this.params = params;\n    }\n\n    /**\n     * @param {*} context\n     * @param {...*} args\n     */\n    run(context, args) {\n        this.callable.apply(context, args);\n    }\n}\n\nexport class HttpRouteConsumer extends HttpConsumer {\n    /**\n     * @param {string} route\n     * @param {Function} callable\n     * @param {*=} params\n     */\n    constructor(route, callable, params) {\n        Args.notEmpty(route,'Consumer URI');\n        super(callable, params);\n        this.route = route;\n    }\n}\n\nexport class HttpErrorConsumer {\n    /**\n     * @param {Function} callable\n     * @param {*=} params\n     */\n    constructor(callable, params) {\n        Args.check(_.isFunction(callable),'Consumer must be a function');\n        /**\n         * @type {Function}\n         */\n        this.callable = callable;\n        /**\n         * Gets or sets the parameters associated with this consumer\n         */\n        this.params = params;\n    }\n\n    /**\n     * @param {*} context\n     * @param {Error|*} err\n     */\n    run(context, err) {\n        this.callable.call(context, err);\n    }\n}"]}